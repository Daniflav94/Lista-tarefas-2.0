<form class="forms" #formEdit="ngForm">
  <input type="text" name="nome" matInput mat-dialog-content [(ngModel)]="tarefa.nome" required/>
  <div class="data" *ngIf="tarefa.data">
    <div>
      <button>
        <svg (click)="picker.open()" width="19px" height="19px" xmlns="http://www.w3.org/2000/svg" viewBox="0 96 960 960" ><path d="M180 976q-24 0-42-18t-18-42V296q0-24 18-42t42-18h65v-60h65v60h340v-60h65v60h65q24 0 42 18t18 42v620q0 24-18 42t-42 18H180Zm0-60h600V486H180v430Zm0-490h600V296H180v130Zm0 0V296v130Zm300 230q-17 0-28.5-11.5T440 616q0-17 11.5-28.5T480 576q17 0 28.5 11.5T520 616q0 17-11.5 28.5T480 656Zm-160 0q-17 0-28.5-11.5T280 616q0-17 11.5-28.5T320 576q17 0 28.5 11.5T360 616q0 17-11.5 28.5T320 656Zm320 0q-17 0-28.5-11.5T600 616q0-17 11.5-28.5T640 576q17 0 28.5 11.5T680 616q0 17-11.5 28.5T640 656ZM480 816q-17 0-28.5-11.5T440 776q0-17 11.5-28.5T480 736q17 0 28.5 11.5T520 776q0 17-11.5 28.5T480 816Zm-160 0q-17 0-28.5-11.5T280 776q0-17 11.5-28.5T320 736q17 0 28.5 11.5T360 776q0 17-11.5 28.5T320 816Zm320 0q-17 0-28.5-11.5T600 776q0-17 11.5-28.5T640 736q17 0 28.5 11.5T680 776q0 17-11.5 28.5T640 816Z"/></svg>
      </button>
      <span >{{tarefa.data | datas}}</span>
      <input [matDatepicker]="picker" name="data" [(ngModel)]="tarefa.data" class="input-picker" />
      <mat-datepicker #picker></mat-datepicker>
    </div>
    <img src="/assets/icons/fechar.png" width="20px" height="20px" (click)="limparCampo('data')"/>
  </div>
  <div class="data sem-dado" *ngIf="!tarefa.data">
    <div>
      <button>
        <img src="/assets/icons/calendario (2).png" (click)="picker.open()" width="17px" height="17px" />
      </button>
      <span>Adicionar data de conclusão</span>
      <input [matDatepicker]="picker" name="data" [(ngModel)]="tarefa.data" class="input-picker" />
      <mat-datepicker #picker></mat-datepicker>
    </div>
  </div>
  <div class="data" *ngIf="tarefa.repeticao">
    <div>
      <button [matMenuTriggerFor]="repeticao">
        <img src="/assets/icons/data-limite.png" width="17px" height="17px" />
        <mat-menu #repeticao="matMenu">
          <button mat-menu-item (click)="escolherRepeticao('diariamente')">
            <img src="/assets/icons/calendario-mensal.png" width="17px" class="opacidade" />
            <span>Diariamente</span>
          </button>
          <button mat-menu-item (click)="escolherRepeticao('semanalmente')">
            <img src="/assets/icons/calendario-mensal2.png" width="17px" class="opacidade" />
            <span>Semanalmente</span>
          </button>
          <button mat-menu-item (click)="escolherRepeticao('mensalmente')">
            <img src="/assets/icons/calendario-mensal3.png" width="17px" class="opacidade" />
            <span>Mensalmente</span>
          </button>
        </mat-menu>
      </button>
      <span>{{ tarefa.repeticao }}</span>
    </div>
    <img src="/assets/icons/fechar.png" width="20px" height="20px" (click)="limparCampo('repeticao')"/>
  </div>
  <div class="data sem-dado" *ngIf="!tarefa.repeticao">
    <div>
      <button [matMenuTriggerFor]="repeticao">
        <img src="/assets/icons/data-limite.png" width="17px" height="17px" />
        <mat-menu #repeticao="matMenu">
          <button mat-menu-item (click)="escolherRepeticao('diariamente')">
            <img src="/assets/icons/calendario-mensal.png" width="16px" class="opacidade" />
            <span>Diariamente</span>
          </button>
          <button mat-menu-item (click)="escolherRepeticao('semanalmente')">
            <img src="/assets/icons/calendario-mensal2.png" width="16px" class="opacidade" />
            <span>Semanalmente</span>
          </button>
          <button mat-menu-item (click)="escolherRepeticao('mensalmente')">
            <img src="/assets/icons/calendario-mensal3.png" width="16px" class="opacidade" />
            <span>Mensalmente</span>
          </button>
        </mat-menu>
      </button>
      <span>Repetir</span>
    </div>
  </div>
  <div class="data">
    <textarea name="anotacao" id="anotacao" rows="2" placeholder="Adicionar anotação"
      [(ngModel)]="tarefa.anotacao"></textarea>
  </div>
  <div mat-dialog-actions align="center" class="botoes">
    <button class="btn-form" mat-stroked-button (click)="editar(formEdit)">
      Salvar
    </button>
    <button mat-stroked-button mat-dialog-close>Fechar</button>
  </div>
</form>
<mat-divider></mat-divider>
<div class="rodape">
  <span *ngIf="!tarefa.concluida">Criado em {{ tarefa.criadaEm | date: "dd/MM/yyyy" }}</span>
  <span *ngIf="tarefa.concluida">Concluiu em {{ tarefa.dataConclusao | date: "dd/MM/yyyy" }}</span>
  <img (click)="deletar(tarefa)" src="/assets/icons/lixeira-de-reciclagem (1).png" class="icone-lixeira" matTooltip="Excluir tarefa"
    matTooltipPosition="right" />
</div>
